!function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t){e.exports="data:image/png;base64,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"},function(e,t,o){var n=o(2);"string"==typeof n&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};o(4)(n,s);n.locals&&(e.exports=n.locals)},function(e,t,o){(t=e.exports=o(3)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Oswald:400,700&display=block);",""]),t.push([e.i,"body {\r\n  margin: 0;\r\n  overflow: hidden;\r\n  background: #222222;\r\n}\r\n\r\n/* custom slider */\r\ninput[type=range] {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  margin: 10px 0;\r\n}\r\ninput[type=range]:focus {\r\n  outline: none;\r\n}\r\ninput[type=range]::-webkit-slider-runnable-track {\r\n  width: 100%;\r\n  height: 6px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  background: #ffffff;\r\n  border-radius: 1px;\r\n  border: 1px solid #000000;\r\n}\r\ninput[type=range]::-webkit-slider-thumb {\r\n  border: 1px solid #000000;\r\n  height: 24px;\r\n  width: 10px;\r\n  border-radius: 0px;\r\n  background: #ffffff;\r\n  cursor: pointer;\r\n  -webkit-appearance: none;\r\n  margin-top: -10px;\r\n}\r\ninput[type=range]::-moz-range-track {\r\n  width: 100%;\r\n  height: 4px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  background: #ffffff;\r\n  border-radius: 1px;\r\n  border: 1px solid #000000;\r\n}\r\ninput[type=range]::-moz-range-thumb {\r\n  border: 1px solid #000000;\r\n  height: 24px;\r\n  width: 8px;\r\n  border-radius: 0px;\r\n  background: #ffffff;\r\n  cursor: pointer;\r\n}\r\n\r\n.container {\r\n  padding: 8px;\r\n  display: flex;\r\n  background-color: #444444;\r\n}\r\n\r\n.container div {\r\n  margin: 0 6px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.container > div:last-child {\r\n  margin-left: auto;\r\n}\r\n\r\n.text {\r\n  font-size: 12px;\r\n  color: #ffffff;\r\n}\r\n\r\n#slider-speed {\r\n  width: 80px;\r\n}\r\n\r\n#slider-speed-value {\r\n  width: 32px;\r\n}\r\n\r\n#icon-github-repository {\r\n  width: 24px;\r\n  height: 24px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.canvas-container {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n",""])},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var s=(r=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(a," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[o].concat(i).concat([s]).join("\n")}var r,l,a;return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(o,"}"):o})).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var i=this[s][0];null!=i&&(n[i]=!0)}for(var r=0;r<e.length;r++){var l=e[r];null!=l[0]&&n[l[0]]||(o&&!l[2]?l[2]=o:o&&(l[2]="(".concat(l[2],") and (").concat(o,")")),t.push(l))}},t}},function(e,t,o){"use strict";var n,s={},i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}();function l(e,t){for(var o=[],n={},s=0;s<e.length;s++){var i=e[s],r=t.base?i[0]+t.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(l):o.push(n[r]={id:r,parts:[l]})}return o}function a(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=s[n.id],r=0;if(i){for(i.refs++;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(m(n.parts[r],t))}else{for(var l=[];r<n.parts.length;r++)l.push(m(n.parts[r],t));s[n.id]={id:n.id,refs:1,parts:l}}}}function h(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var n=o.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach((function(o){t.setAttribute(o,e.attributes[o])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,p=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function c(e,t,o,n){var s=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function d(e,t,o){var n=o.css,s=o.media,i=o.sourceMap;if(s&&e.setAttribute("media",s),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,_=0;function m(e,t){var o,n,s;if(t.singleton){var i=_++;o=f||(f=h(t)),n=c.bind(null,o,i,!1),s=c.bind(null,o,i,!0)}else o=h(t),n=d.bind(null,o,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var o=l(e,t);return a(o,t),function(e){for(var n=[],i=0;i<o.length;i++){var r=o[i],h=s[r.id];h&&(h.refs--,n.push(h))}e&&a(l(e,t),t);for(var u=0;u<n.length;u++){var p=n[u];if(0===p.refs){for(var c=0;c<p.parts.length;c++)p.parts[c]();delete s[p.id]}}}}},function(e,t,o){"use strict";o.r(t);o(1);const n={OK:0,EMPTY_INBOX:1,HOLD_NULL:-1,REF_NULL:-2,EMPTY_ADDR:-3,INVALID_PTR:-4,TYPE_MISMATCH:-5,NO_SUCH_LABEL:-1001};class s{constructor(e,t){this._func=e,this._name=t,this._index=-1}get name(){return this._name}get param(){return this._param}get index(){return this._index}set index(e){this._index=e}apply(e){return this._func(e)}}class i extends s{constructor(){super(e=>{const t=e._inbox.shift();return this._panelValue=t,void 0===t?n.EMPTY_INBOX:(e._hold=t,n.OK)},"inbox")}get panelValue(){return this._panelValue}}class r extends s{constructor(){super(e=>(this._panelValue=e._hold,null===e._hold?n.HOLD_NULL:(e._outbox.push(e._hold),e._hold=null,n.OK)),"outbox")}get panelValue(){return this._panelValue}}class l extends s{constructor(e,t){let o;super(o=e?e=>void 0===e._floor[t]?n.REF_NULL:(e._hold=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],n.OK):e=>{const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:(e._hold=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],n.OK)},"copyfrom"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}}class a extends s{constructor(e,t){let o;super(o=e?e=>null===e._hold?n.HOLD_NULL:(e._floor[t]=e._hold,this._floorIndex=t,this._panelValue=e._floor[t],n.OK):e=>{if(null===e._hold)return n.HOLD_NULL;const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:(e._floor[o]=e._hold,this._floorIndex=o,this._panelValue=e._floor[o],n.OK)},"copyto"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}}class h extends s{constructor(e,t){let o;super(o=e?e=>null===e._hold?n.HOLD_NULL:void 0===e._floor[t]?n.REF_NULL:"number"!=typeof e._hold||"number"!=typeof e._floor[t]?n.TYPE_MISMATCH:(e._hold+=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],this._resultValue=e._hold,n.OK):e=>{if(null===e._hold)return n.HOLD_NULL;const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:"number"!=typeof e._hold||"number"!=typeof e._floor[o]?n.TYPE_MISMATCH:(e._hold+=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],this._resultValue=e._hold,n.OK)},"add"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}get operator(){return"+"}}class u extends s{constructor(e,t){let o;super(o=e?e=>null===e._hold?n.HOLD_NULL:void 0===e._floor[t]?n.REF_NULL:typeof e._hold!=typeof e._floor[t]?n.TYPE_MISMATCH:("string"==typeof e._hold?e._hold=e._hold.charCodeAt(0)-e._floor[t].charCodeAt(0):e._hold-=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],this._resultValue=e._hold,n.OK):e=>{if(null===e._hold)return n.HOLD_NULL;const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:typeof e._hold!=typeof e._floor[o]?n.TYPE_MISMATCH:("string"==typeof e._hold?e._hold=e._hold.charCodeAt(0)-e._floor[o].charCodeAt(0):e._hold-=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],this._resultValue=e._hold,n.OK)},"sub"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}get operator(){return"-"}}class p extends s{constructor(e,t){let o;super(o=e?e=>void 0===e._floor[t]?n.REF_NULL:"number"!=typeof e._floor[t]?n.TYPE_MISMATCH:(this._floorIndex=t,this._panelValue=e._floor[t],e._hold=++e._floor[t],this._resultValue=e._hold,n.OK):e=>{const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:"number"!=typeof e._floor[o]?n.TYPE_MISMATCH:(this._floorIndex=o,this._panelValue=e._floor[o],e._hold=++e._floor[o],this._resultValue=e._hold,n.OK)},"bumpp"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}}class c extends s{constructor(e,t){let o;super(o=e?e=>void 0===e._floor[t]?n.REF_NULL:"number"!=typeof e._floor[t]?n.TYPE_MISMATCH:(this._floorIndex=t,this._panelValue=e._floor[t],e._hold=--e._floor[t],this._resultValue=e._hold,n.OK):e=>{const o=e._floor[t];return void 0===o?n.INVALID_POINTER:"number"!=typeof o?n.INVALID_POINTER:"number"!=typeof e._floor[o]?n.TYPE_MISMATCH:(this._floorIndex=o,this._panelValue=e._floor[o],e._hold=--e._floor[o],this._resultValue=e._hold,n.OK)},"bumpm"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}}class d extends s{constructor(e,t,o){super(e=>{let s=0;return void 0===e._instructions.find((e,o)=>(s=o,e.label===t))?(console.error("no such label.",t),n.NO_SUCH_LABEL):(o(e,s),n.OK)},e),this._toLabel=t}get toLabel(){return this._toLabel}}class f extends d{constructor(e){super("jump",e,(e,t)=>{e._cursor=t})}}class _ extends d{constructor(e){super("jumpz",e,(e,t)=>null===e._hold?n.HOLD_NULL:"number"!=typeof e._hold?n.TYPE_MISMATCH:void(0===e._hold&&(e._cursor=t)))}}class m extends d{constructor(e){super("jumpn",e,(e,t)=>null===e._hold?n.HOLD_NULL:"number"!=typeof e._hold?n.TYPE_MISMATCH:void(e._hold<0&&(e._cursor=t)))}}class x extends s{constructor(e){super(e=>n.OK,"label"),this._label=e}get label(){return this._label}}const b={OK:0,INST_ERROR:-1001,INVALID_OUTBOX:-1002,TOO_LARGE_STEPS:-1003};class y{constructor(e={}){this._instructions=null,this._initialInbox=null,this._initialFloor=null,this._lines=0,this._steps=0,this._inbox=null,this._outbox=null,this._floor=null,this._cursor=0,this._hold=null,this._steps=0,this._verbose=void 0!==e.verbose&&e.verbose}setInstructions(e){this._instructions=e,this._lines=e.reduce((e,t)=>void 0===t.label?e+1:e,0)}setField(e,t,o){this._initialInbox=e,this._initialFloor=t,this._expected=o}run(){this._reset();const e=[];let t=b.OK,o=n.OK;for(;;){const s=this._instructions[this._cursor];o=s.apply(this);const i={index:s.index,name:s.name};if(void 0!==s.label&&(i.label=s.label),void 0!==s.toLabel&&(i.toLabel=s.toLabel),void 0!==s.param&&(i.param=s.param),void 0!==s.floorIndex&&(i.floorIndex=s.floorIndex),void 0!==s.panelValue&&(i.panelValue=s.panelValue),void 0!==s.resultValue&&(i.resultValue=s.resultValue),void 0!==s.operator&&(i.operator=s.operator),e.push(i),this._verbose&&console.log(this._inbox,this._outbox,this._floor,this._hold,this._cursor,this._steps),o!==n.OK){o!==n.EMPTY_INBOX&&(t=b.INST_ERROR);break}if(++this._cursor,void 0===s.label&&++this._steps,"outbox"===s.operationName){const e=this._outbox.length-1;if(this._expected[e]!==this._outbox[e]){t=b.INVALID_OUTBOX;break}}if(this._cursor>=this._instructions.length)break;if(this._steps>=1e4){t=b.TOO_LARGE_STEPS;break}}if(t===b.OK&&(o===n.OK||o===n.EMPTY_INBOX)){this._expected.length===this._outbox.length&&this._expected.reduce((e,t,o)=>e&&t===this._outbox[o],!0)||(t=b.INVALID_OUTBOX)}return{hrmResult:t,lastInstructionResult:o,history:e,lines:this._lines,steps:this._steps}}_reset(){this._inbox=this._initialInbox.slice(),this._floor=Object.assign({},this._initialFloor),this._outbox=[],this._cursor=0,this._hold=null,this._steps=0}}class g{parse(e,t={}){const o=[],n=/^(\w+)(\:?)$/i,s=/^(\w+)\s+(\[?)(\w+?)(\]?)$/i;for(const i of e.split("\n")){const e=i.trim();if(""===e)continue;const r=e.match(n)||e.match(s);if(!r)return console.error("syntax error.",e),null;let l=null;r[1];if(":"===r[2])l=this._parseLabel(r);else{const e=r[1];"inbox"===e?l=this._parseInbox():"outbox"===e?l=this._parseOutbox():"copyfrom"===e?l=this._parseCopyfrom(r,t):"copyto"===e?l=this._parseCopyto(r,t):"add"===e?l=this._parseAdd(r,t):"sub"===e?l=this._parseSub(r,t):"bumpp"===e?l=this._parseBumpup(r,t):"bumpm"===e?l=this._parseBumpdown(r,t):"jump"===e?l=this._parseJump(r):"jumpz"===e?l=this._parseJumpIfZero(r):"jumpn"===e&&(l=this._parseJumpIfNeg(r))}if(null===l)return console.error("unknown instruction.",e),null;l.index=o.length,o.push(l)}return o}_parseInbox(){return new i}_parseOutbox(){return new r}_parseCopyfrom(e,t){const o=this._parseParam(e,t);return null===o?null:new l(o.isDirect,o.value)}_parseCopyto(e,t){const o=this._parseParam(e,t);return null===o?null:new a(o.isDirect,o.value)}_parseAdd(e,t){const o=this._parseParam(e,t);return null===o?null:new h(o.isDirect,o.value)}_parseSub(e,t){const o=this._parseParam(e,t);return null===o?null:new u(o.isDirect,o.value)}_parseBumpup(e,t){const o=this._parseParam(e,t);return null===o?null:new p(o.isDirect,o.value)}_parseBumpdown(e,t){const o=this._parseParam(e,t);return null===o?null:new c(o.isDirect,o.value)}_parseJump(e){return e.length<4?null:new f(e[3])}_parseJumpIfZero(e){return e.length<4?null:new _(e[3])}_parseJumpIfNeg(e){return e.length<4?null:new m(e[3])}_parseLabel(e){return new x(e[1])}_parseParam(e,t){if(e.length<5)return null;const o=e[3];let n=parseInt(o,10);if(isNaN(n)&&void 0===(n=t[o]))return console.error("no such alias.",o),null;const s={value:n,isDirect:!1};if(""===e[2]&&""===e[4])s.isDirect=!0;else{if("["!==e[2]||"]"!==e[4])return null;s.isDirect=!1}return s}}class v{constructor(e=document.createElement("canvas")){this._context=e.getContext("2d")}get domElement(){return this._context.canvas}setSize(e,t){this._context.canvas.width=e,this._context.canvas.height=t}render(e){const t=this._context;t.clearRect(0,0,t.canvas.width,t.canvas.height);for(let o=0;o<4;o++)e.render(t,o)}}class w{constructor(){this.children=[],this.depth=0,this.position={x:0,y:0},this.scale={x:1,y:1},this.speedCoef=1,this.visible=!0}render(e,t){const o=e;o.save(),o.translate(this.position.x,this.position.y),o.scale(this.scale.x,this.scale.y),this.visible&&this.depth===t&&this.renderSelf(o);for(const e of this.children)e.render(o,t);o.restore()}clear(){this.children=[]}add(e){this.children.push(e)}remove(e){this.children=this.children.filter(t=>e!==t)}renderSelf(e){throw new Error("not implemented.")}}class O extends w{renderSelf(e){}}class E extends w{constructor(e,t=.06*Math.random()-.03){super(),this._size=e,this._rotation=t,this._value=null,this._expression=null,this._isInteger=!1}get value(){return this._value}set value(e){this._value=e,"number"==typeof e?(this._isInteger=!0,this._expression=e.toString(10)):(this._isInteger=!1,this._expression=e)}renderSelf(e){const t=e,o=this._size,n=`bold ${.6*o|0}px Oswald`;if(t.save(),t.rotate(this._rotation),t.save(),t.translate(-o/2,-o/2),t.fillStyle=this._isInteger?"#506037":"#44445f",t.fillRect(0,.15*o,o,o),t.fillStyle=this._isInteger?"#a0ca5f":"#9695c5",t.fillRect(0,0,o,o),t.restore(),this._expression){const e=0,o=1;t.fillStyle="#506137",t.font=n,t.textAlign="center",t.textBaseline="middle",t.fillText(this._expression,e,o)}t.restore()}}var I=o(0),C=o.n(I);class T extends w{constructor(e){super(),this._fontSize=e,this._shadowOffset={x:.02*e,y:.1*e},this._operator=""}get operator(){return this._operator}set operator(e){this._operator=e}renderSelf(e){e.font=`bold ${this._fontSize}px Oswald`,e.textAlign="center",e.textBaseline="middle",e.fillStyle="#506037",e.fillText(this._operator,this._shadowOffset.x,this._shadowOffset.y),e.fillStyle="#a0ca5f",e.fillText(this._operator,0,0)}}class A extends w{constructor(e,t,o){super(),this._heldPanel=new E(t),this._heldPanel.visible=!1,this.add(this._heldPanel),this._heldPanelForAnimation=new E(t),this._heldPanelForAnimation.visible=!1,this.add(this._heldPanelForAnimation),this._operatorPopup=new T(1*t|0),this._operatorPopup.visible=!1,this.add(this._operatorPopup),this._topOffset={x:0,y:-1*t},this._bottomOffset={x:0,y:.55*e},this._leftOffset={x:-1*e,y:0},this._rightOffset={x:1*e,y:0},this._topLeftOffset={x:-1*t,y:-.8*t},this._topRightOffset={x:1*t,y:-.8*t},this._heldPanel.position.x=this._topOffset.x,this._heldPanel.position.y=this._topOffset.y,this._operatorPopup.depth=1,this._operatorPopup.position.x=0,this._operatorPopup.position.y=this._topLeftOffset.y,this._speed=o/2400,this._flipHorizontal=!1,this._texture=new Image,this._texture.src=C.a}renderSelf(e){const t=e,o=this._texture;t.save(),this._flipHorizontal&&t.scale(-1,1),t.drawImage(o,0,0,o.width,o.height,-o.width/2,-o.height/2,o.width,o.height),t.restore()}refresh(){this._heldPanelForAnimation.visible=!1}async step(e,t=200){this._heldPanelForAnimation.visible=!1;const o=this.position,n=e.x-o.x,s=e.y-o.y,i=Math.sqrt(n*n+s*s)/(this.speedCoef*this._speed);return new Promise(s=>{new TWEEN.Tween(o).to(e,i).delay(t/this.speedCoef).onStart(()=>{n>0?this._flipHorizontal=!0:n<0&&(this._flipHorizontal=!1)}).onComplete(s).start()})}async pickFromBottom(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._bottomOffset.x,o.position.y=this._bottomOffset.y,o.value=e,o.visible=!0,new Promise(n=>{new TWEEN.Tween(o.position).to(this._topOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(()=>{this._heldPanel.value=e,this._heldPanel.visible=!0,n()}).start()})}async pickFromLeft(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._leftOffset.x,o.position.y=this._leftOffset.y,o.value=e,o.visible=!0,new Promise(n=>{new TWEEN.Tween(o.position).to(this._topOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(()=>{this._heldPanel.value=e,this._heldPanel.visible=!0,n()}).start()})}async dropToBottom(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._topOffset.x,o.position.y=this._topOffset.y,o.value=this._heldPanel.value,o.visible=!0,e||(this._heldPanel.visible=!1),new Promise(e=>{new TWEEN.Tween(o.position).to(this._bottomOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(e).start()})}async dropToRight(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._topOffset.x,o.position.y=this._topOffset.y,o.value=this._heldPanel.value,o.visible=!0,e||(this._heldPanel.visible=!1),new Promise(e=>{new TWEEN.Tween(o.position).to(this._rightOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(e).start()})}async stomp(){return Promise.resolve()}async doArithmetic(e,t,o,n=0){const s=this._heldPanel,i=this._heldPanelForAnimation;return i.position.x=this._bottomOffset.x,i.position.y=this._bottomOffset.y,i.value=t,i.visible=!0,new Promise(t=>{const r=new TWEEN.Tween(s.position).to(this._topLeftOffset,200/this.speedCoef).delay(n/this.speedCoef).easing(TWEEN.Easing.Cubic.Out),l=new TWEEN.Tween(i.position).to(this._topRightOffset,200/this.speedCoef).delay(n/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(()=>{this._operatorPopup.operator=e,this._operatorPopup.visible=!0}),a=new TWEEN.Tween(s.position).to(this._topOffset,100/this.speedCoef).delay(200/this.speedCoef),h=new TWEEN.Tween(i.position).to(this._topOffset,100/this.speedCoef).delay(200/this.speedCoef).onComplete(()=>{s.value=o,i.value=o,this._operatorPopup.visible=!1}),u={x:i.scale.x,y:i.scale.y},p={x:1.3*i.scale.x,y:1.3*i.scale.y},c=new TWEEN.Tween(i.scale).to(p,50/this.speedCoef).easing(TWEEN.Easing.Cubic.Out),d=new TWEEN.Tween(i.scale).to(u,50/this.speedCoef).easing(TWEEN.Easing.Cubic.In).onComplete(t);r.chain(a),l.chain(h),h.chain(c),c.chain(d),r.start(),l.start()})}}class L extends w{constructor(e){super(),this._width=e.x,this._height=e.y}renderSelf(e){const t=e,o=this._width,n=this._height;t.save(),t.translate(-o/2,-n/2),t.strokeStyle="#322a25",t.lineWidth=4,t.strokeRect(2,2,o-4,n-4),t.restore()}}class N extends w{constructor(e,t,o,n,s,i){super(),this._width=e.x,this._height=e.y,this._floorSize=t,this._cellSize=o,this._panelSize=n,this._frame=new L(e),this.add(this._frame),this._inboxPanels=[],this._outboxPanels=[],this._floorPanels=[];for(const[t,i]of s.entries()){const s=new E(n);s.value=i,s.position.x=-e.x/2+(o+4)/2,s.position.y=1.5*t*n,this._inboxPanels.push(s),this.add(s)}for(let e=0;e<t.y;e++)for(let o=0;o<t.x;o++){const s=new E(n),r=e*t.x+o;s.position=this._floorIndexToLocalCoordinates(r);const l=i[r];void 0!==l?(s.value=l,s.visible=!0):(s.value=null,s.visible=!1),this._floorPanels[r]=s,this.add(s)}}renderSelf(e){const t=e,o=this._width,n=this._height,s=this._floorSize.x,i=this._floorSize.y,r=this._cellSize,l=.05*r;{t.save(),t.translate(-o/2,-n/2),t.fillStyle="#ca9877",t.fillRect(0,0,o,n),t.strokeStyle="#322a25",t.lineWidth=4;const e=2,s=n/2-r/2-e,i=n-s;t.fillStyle="#4c3b2c",t.fillRect(e,s,r,i),t.strokeRect(e,s,r,i),t.fillRect(o-r-e,s,r,i),t.strokeRect(o-r-e,s,r,i),t.restore()}{const e=s*r+2*l,o=i*r+2*l;t.save(),t.translate(-e/2,-o/2+.1*r),t.fillStyle="#999454",t.fillRect(0,0,e,o),t.translate(l,l),t.fillStyle="#8d804c";for(let e=0;e<i;e++)for(let o=e%2;o<s;o+=2)t.fillRect(o*r+l,e*r+l,r-2*l,r-2*l);const n=`${.15*r|0}px Oswald`;t.font=n,t.textAlign="right",t.textBaseline="bottom",t.fillStyle="#506137";for(let e=0;e<i;e++)for(let o=0;o<s;o++)t.fillText(e*s+o,(o+1)*r-2*l,(e+1)*r-2*l);t.restore()}}set(e,t){const o=this._floorPanels[e];o.value=t,o.visible=!0}async setWithAnimation(e,t){const o=this._floorPanels[e],n={x:o.scale.x,y:o.scale.y},s={x:1.5*o.scale.x,y:1.5*o.scale.y};return new Promise(e=>{const i=new TWEEN.Tween(o.scale).to(s,50/this.speedCoef).onComplete(()=>{o.value=t}),r=new TWEEN.Tween(o.scale).to(n,50/this.speedCoef).onComplete(e);i.chain(r).start()})}pickFromInbox(){this._inboxPanels.shift().visible=!1}forwardInbox(){const e=[];for(const t of this._inboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y-1.5*this._panelSize},1e3/this.speedCoef).easing(TWEEN.Easing.Cubic.InOut);e.push(o)}for(const t of e)t.start()}dropToOutbox(e){const t=new E(this._panelSize);t.value=e,t.position.x=this._width/2-(this._cellSize+4)/2,t.position.y=0,this._outboxPanels.push(t),this.add(t)}forwardOutbox(){const e=[];for(const t of this._outboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y+1.5*this._panelSize},1e3/this.speedCoef).easing(TWEEN.Easing.Cubic.InOut);e.push(o)}for(const t of e)t.start()}forwardOutboxLong(){const e=[];for(const t of this._outboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y+15*this._panelSize},2e3).easing(TWEEN.Easing.Quadratic.In);e.push(o)}for(const t of e)t.start()}_floorIndexToLocalCoordinates(e){const t=this._cellSize,o=this._floorSize;return{x:(e%o.x-(o.x-1)/2)*t,y:((e/o.x|0)-(o.y-1)/2)*t}}}const S=-1,P=-2;class V{constructor(e,t,o,n,s){this._width=e,this._height=t,this._cellSize=o,this._panelSize=n,this._onCursorChange=s,this._scene=new O,this._speedCoefSeed=1,this._abort=!1}get scene(){return this._scene}get speedCoef(){return this._speedCoefSeed}set speedCoef(e){this._speedCoefSeed=e;const t=Math.pow(2,e-1);this._applySpeedCoef(t)}prepare(e,t,o){this._floorSize=o,this._scene.clear();const n=this._width,s=this._height,i=this._cellSize,r=this._panelSize,l=this._floorSize;this._employee=new A(i,r,s),this._employee.position.x=.3*s,this._employee.position.y=.3*s,this._scene.add(this._employee),this._field=new N({x:n,y:s},l,i,r,e,t),this._field.position.x=n/2,this._field.position.y=s/2,this._scene.add(this._field),this._field._frame.depth=3,this._employee._heldPanel.depth=2,this._employee._heldPanelForAnimation.depth=2,this._employee.depth=1,this._field.depth=0}start(e){const t=()=>{if(this._abort)return;if(e.length<=0)return this._employee.refresh(),void this._field.forwardOutboxLong();const o=e.shift();this._onCursorChange&&this._onCursorChange(o.index);let n,s=o.floorIndex;if("inbox"===o.name){if(void 0===o.panelValue)return this._employee.refresh(),void this._field.forwardOutboxLong();s=S}else"outbox"===o.name&&(s=P);if(void 0===s)return void t();switch(o.name){case"inbox":n=()=>(this._field.pickFromInbox(),this._field.forwardInbox(),this._employee.pickFromLeft(o.panelValue));break;case"outbox":this._field.forwardOutbox(),n=()=>this._employee.dropToRight(!1).then(()=>{this._field.dropToOutbox(o.panelValue)});break;case"copyfrom":n=()=>this._employee.pickFromBottom(o.panelValue);break;case"copyto":n=()=>this._employee.dropToBottom(!0).then(()=>{this._field.set(s,o.panelValue)});break;case"add":case"sub":n=()=>this._employee.doArithmetic(o.operator,o.panelValue,o.resultValue);break;case"bumpp":case"bumpm":n=()=>this._field.setWithAnimation(s,o.resultValue).then(()=>this._employee.pickFromBottom(o.resultValue,200));break;default:n=()=>{}}const i=this._floorIndexToScreenCoordinatesOfEmployee(s);this._employee.step(i).then(n).then(t)};t()}stop(){this._abort=!0}_floorIndexToScreenCoordinatesOfEmployee(e){const t=this._width,o=this._height,n=this._cellSize,s=this._floorSize;let i,r;return e===S?(i=n+(n+4)/2,r=o/2):e===P?(i=t-n-(n+4)/2,r=o/2):(i=t/2+(e%s.x-(s.x-1)/2)*n,r=o/2+((e/s.x|0)-(s.y-1)/2)*n-.55*n),{x:i,y:r}}_applySpeedCoef(e){this._employee&&(this._employee.speedCoef=e),this._field&&(this._field.speedCoef=e)}}class R extends w{constructor(e,t,o){super(),this._expression=e,this._width=t,this._height=o,this._bodyHeight=.8*o,this._font=`bold ${this._bodyHeight}px Oswald`}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=e}renderSelf(e){this._highlighted&&(e.fillStyle="#00aa00",e.fillRect(0,0,this._width,this._height)),e.font=this._font,e.fillStyle="#ffffff",e.fillText(this._expression,0,this._bodyHeight)}}class j{constructor(e,t){this._width=e,this._height=t,this._scene=new O,this._codeContainer=new O,this._scene.add(this._codeContainer)}get scene(){return this._scene}prepare(e){this._codeContainer.clear();const t=this._width,o=this._height,n=Math.min(o/e.length,26);for(const[o,s]of e.entries()){const e=this._createExpression(s),i=new R(e,t,n);i.position.y=o*n,this._codeContainer.add(i)}}setCursor(e){const t=this._codeContainer.children;for(let o=0;o<t.length;o++)t[o].highlighted=o===e}_createExpression(e){if("label"===e.name)return`${e.label}:`.toUpperCase();return void 0!==e.param?`    ${e.name} ${e.param}`.toUpperCase():void 0!==e.toLabel?`    ${e.name} ${e.toLabel}`.toUpperCase():`    ${e.name}`.toUpperCase()}}class k{constructor(e,t,o,n){this._width=e,this._height=t,this._cellSize=.1*this._height,this._panelSize=.4*this._cellSize,this._renderer=new v(o),this._codeRenderer=new v(n),this._scene=null,this._codeScene=new j(.3*this._height,this._height),this._renderer.setSize(this._width,this._height),this._codeRenderer.setSize(.3*this._height,this._height),this._speedCoefSeed=1,requestAnimationFrame(this._animate.bind(this))}get speedCoef(){return this._speedCoefSeed}set speedCoef(e){this._speedCoefSeed=e,this._scene&&(this._scene.speedCoef=e)}newGame(e,t,o){const n=(new g).parse(t,o);if(null===n)return void console.error("syntax error.");const s=e.generate(),i=new y;i.setInstructions(n),i.setField(s.inputs,e.initialFloor,s.expected);const r=i.run();this._scene&&this._scene.stop(),this._scene=new V(this._width,this._height,this._cellSize,this._panelSize,this._onCursorChange.bind(this)),this._scene.prepare(s.inputs,e.initialFloor,e.floorSize),this._codeScene.prepare(n),this.speedCoef=this.speedCoef,this._scene.start(r.history)}_animate(e){requestAnimationFrame(this._animate.bind(this)),this._update(e),this._render()}_update(e){TWEEN.update()}_render(){this._scene&&this._renderer.render(this._scene.scene),this._codeRenderer.render(this._codeScene.scene)}_onCursorChange(e){this._codeScene.setCursor(e)}}class z{constructor(e,t,o="",n="",s={x:0,y:0}){this._datasetGenerator=e,this._initialFloor=t,this._summary=o,this._description=n,this._floorSize=s}get summary(){return this._summary}get description(){return this._description}get floorSize(){return this._floorSize}get initialFloor(){return this._initialFloor}generate(e=0){return this._datasetGenerator(e)}}class M extends z{constructor(){super(e=>{const t=[],o=[];for(let e=0;e<20;e++)t[e]=100*Math.random()|0,e%2==1&&(o[e/2|0]=t[e]+t[e-1]);return{inputs:t,expected:o}},{},"Pairwise Add","",{x:3,y:1})}}class D extends z{constructor(){super((e,t=10)=>{const o=[];for(let e=0;e<t;e++)o.push(String.fromCharCode("A".charCodeAt(0)+(5*Math.random()|0)));const n=o.filter((e,t,o)=>o.indexOf(e)===t);return{inputs:o,expected:n}},{15:0},"Duplicate Removal","",{x:4,y:4})}}class F extends z{constructor(){super((e,t=4)=>{const o=[];for(let e=0;e<t;e++)for(let e=0;e<3;e++)o.push((19*Math.random()|0)-9);const n=[];for(let e=0;e<o.length;e+=3){const t=o.slice(e,e+3).sort((e,t)=>e-t);n.push(t[0],t[1],t[2])}return{inputs:o,expected:n}},{},"Three Sort","",{x:5,y:2})}}class H extends z{constructor(){super(e=>({inputs:[85,28,67,0,"T","H","I","N","K",0,73,92,21,60,23,58,35,18,60,46,0,10,0],expected:[28,67,85,"H","I","K","N","T",18,21,23,35,46,58,60,60,73,92,10]}),{24:0},"Sorting Floor","",{x:5,y:5})}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#slider-speed-value"),t=document.querySelector("#select-scenario"),o=["1/2x","1x","2x","4x","8x","16x","32x"],n=[{problem:new M,solution:"\n        next:\n            inbox\n            copyto 0\n            inbox\n            add    0\n            outbox\n            jump   next\n    ",aliases:{}},{problem:new F,solution:"\n        next:\n            inbox\n            copyto   0\n            inbox\n            copyto   1\n            inbox\n            copyto   2\n\n        common:\n            copyfrom 0\n            copyto   tmp\n            sub      1\n            jumpn    skip_swap\n\n            copyfrom 1\n            copyto   0\n            copyfrom tmp\n            copyto   1\n\n        skip_swap:\n            copyfrom 2\n            copyto   tmp\n            sub      1\n            jumpn    continue\n\n        _out:\n            copyfrom 0\n            outbox\n            copyfrom 1\n            outbox\n            copyfrom 2\n            outbox\n            jump     next\n\n        continue:\n            copyfrom 1\n            copyto   2\n            copyfrom tmp\n            copyto   1\n\n            jump     common\n    ",aliases:{tmp:9}},{problem:new D,solution:"\n        next:\n            inbox \n            copyto   [count]\n            copyfrom  count\n            copyto    index\n        check_dup:\n            bumpm     index\n            jumpn     no_dup\n            copyfrom [index]\n            sub      [count]\n            jumpz     next\n            jump      check_dup\n        no_dup:\n            copyfrom [count]\n            outbox\n            bumpp     count\n            jump      next\n    ",aliases:{index:14,count:15}},{problem:new H,solution:"\n        init:\n            copyfrom  zero\n            copyto    len\n        _first:\n            inbox\n            copyto   [len]\n        next:\n            inbox\n            jumpz     out\n            copyto    tmp\n            bumpp     len\n            copyto    i\n            copyto    j\n            copyto    k\n        compare:\n            bumpm     i\n            jumpn     forward\n            copyfrom [i]\n            sub       tmp\n            jumpn     compare\n        forward:\n            bumpm     j\n            sub       i\n            jumpz     insert\n            copyfrom [j]\n            copyto   [k]\n            bumpm     k\n            jump      forward\n        insert:\n            copyfrom  tmp\n            copyto   [k]\n            jump      next\n        out:\n            copyfrom [len] \n            outbox\n            bumpm     len\n            jumpn     init\n            jump      out\n    ",aliases:{len:20,i:21,j:22,k:23,tmp:19,zero:24}}];for(const[e,o]of n.entries()){const n=document.createElement("option");n.value=e,n.textContent=o.problem.summary,t.appendChild(n)}document.querySelector("#slider-speed").addEventListener("input",t=>{const n=t.target.value;i.speedCoef=n,e.textContent=`${o[n]}`}),t.addEventListener("change",e=>{const t=parseInt(e.target.value,10);s(t)});const s=e=>{const t=n[e];i.newGame(t.problem,t.solution,t.aliases)},i=new k(640,640,document.querySelector("#canvas-main"),document.querySelector("#canvas-code"));t.children[2].selected="selected",s(2)})}]);