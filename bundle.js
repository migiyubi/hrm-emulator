(()=>{"use strict";var e={469:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(933),s=o.n(n),i=o(476),r=o.n(i)()(s());r.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Oswald:400,700&display=block);"]),r.push([e.id,"body {\r\n  margin: 0;\r\n  overflow: hidden;\r\n  background: #222222;\r\n}\r\n\r\n/* custom slider */\r\ninput[type=range] {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  margin: 10px 0;\r\n}\r\ninput[type=range]:focus {\r\n  outline: none;\r\n}\r\ninput[type=range]::-webkit-slider-runnable-track {\r\n  width: 100%;\r\n  height: 6px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  background: #ffffff;\r\n  border-radius: 1px;\r\n  border: 1px solid #000000;\r\n}\r\ninput[type=range]::-webkit-slider-thumb {\r\n  border: 1px solid #000000;\r\n  height: 24px;\r\n  width: 10px;\r\n  border-radius: 0px;\r\n  background: #ffffff;\r\n  cursor: pointer;\r\n  -webkit-appearance: none;\r\n  margin-top: -10px;\r\n}\r\ninput[type=range]::-moz-range-track {\r\n  width: 100%;\r\n  height: 4px;\r\n  cursor: pointer;\r\n  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);\r\n  background: #ffffff;\r\n  border-radius: 1px;\r\n  border: 1px solid #000000;\r\n}\r\ninput[type=range]::-moz-range-thumb {\r\n  border: 1px solid #000000;\r\n  height: 24px;\r\n  width: 8px;\r\n  border-radius: 0px;\r\n  background: #ffffff;\r\n  cursor: pointer;\r\n}\r\n\r\n.container {\r\n  padding: 8px;\r\n  display: flex;\r\n  background-color: #444444;\r\n}\r\n\r\n.container div {\r\n  margin: 0 6px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.container > div:last-child {\r\n  margin-left: auto;\r\n}\r\n\r\n.text {\r\n  font-size: 12px;\r\n  color: #ffffff;\r\n}\r\n\r\n#slider-speed {\r\n  width: 80px;\r\n}\r\n\r\n#slider-speed-value {\r\n  width: 32px;\r\n}\r\n\r\n#icon-github-repository {\r\n  width: 24px;\r\n  height: 24px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.canvas-container {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n",""]);const l=r},476:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,s,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(r[a]=!0)}for(var h=0;h<e.length;h++){var p=[].concat(e[h]);n&&r[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),o&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=o):p[2]=o),s&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=s):p[4]="".concat(s)),t.push(p))}},t}},933:e=>{e.exports=function(e){return e[1]}},892:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var i={},r=[],l=0;l<e.length;l++){var a=e[l],h=n.base?a[0]+n.base:a[0],p=i[h]||0,u="".concat(h," ").concat(p);i[h]=p+1;var d=o(u),c={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==d)t[d].references++,t[d].updater(c);else{var _=s(c,n);n.byIndex=l,t.splice(l,0,{identifier:u,updater:_,references:1})}r.push(u)}return r}function s(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,s){var i=n(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<i.length;r++){var l=o(i[r]);t[l].references--}for(var a=n(e,s),h=0;h<i.length;h++){var p=o(i[h]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}i=a}}},311:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},60:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},192:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},760:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var s=void 0!==o.layer;s&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,s&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},865:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0,(()=>{var e=o(892),t=o.n(e),n=o(760),s=o.n(n),i=o(311),r=o.n(i),l=o(192),a=o.n(l),h=o(60),p=o.n(h),u=o(865),d=o.n(u),c=o(469),_={};_.styleTagTransform=d(),_.setAttributes=a(),_.insert=r().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=p(),t()(c.Z,_),c.Z&&c.Z.locals&&c.Z.locals;const f={OK:0,EMPTY_INBOX:1,HOLD_NULL:-1,REF_NULL:-2,EMPTY_ADDR:-3,INVALID_PTR:-4,TYPE_MISMATCH:-5,NO_SUCH_LABEL:-1001};class m{constructor(e,t){this._func=e,this._name=t,this._index=-1}get name(){return this._name}get param(){return this._param}get index(){return this._index}set index(e){this._index=e}apply(e){return this._func(e)}}class x extends m{constructor(){super((e=>{const t=e._inbox.shift();return this._panelValue=t,void 0===t?f.EMPTY_INBOX:(e._hold=t,f.OK)}),"inbox")}get panelValue(){return this._panelValue}}class y extends m{constructor(){super((e=>(this._panelValue=e._hold,null===e._hold?f.HOLD_NULL:(e._outbox.push(e._hold),e._hold=null,f.OK))),"outbox")}get panelValue(){return this._panelValue}}class b extends m{constructor(e,t){let o;o=e?e=>void 0===e._floor[t]?f.REF_NULL:(e._hold=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],f.OK):e=>{const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:(e._hold=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],f.OK)},super(o,"copyfrom"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}}class g extends m{constructor(e,t){let o;o=e?e=>null===e._hold?f.HOLD_NULL:(e._floor[t]=e._hold,this._floorIndex=t,this._panelValue=e._floor[t],f.OK):e=>{if(null===e._hold)return f.HOLD_NULL;const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:(e._floor[o]=e._hold,this._floorIndex=o,this._panelValue=e._floor[o],f.OK)},super(o,"copyto"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}}class v extends m{constructor(e,t){let o;o=e?e=>null===e._hold?f.HOLD_NULL:void 0===e._floor[t]?f.REF_NULL:"number"!=typeof e._hold||"number"!=typeof e._floor[t]?f.TYPE_MISMATCH:(e._hold+=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],this._resultValue=e._hold,f.OK):e=>{if(null===e._hold)return f.HOLD_NULL;const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:"number"!=typeof e._hold||"number"!=typeof e._floor[o]?f.TYPE_MISMATCH:(e._hold+=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],this._resultValue=e._hold,f.OK)},super(o,"add"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}get operator(){return"+"}}class w extends m{constructor(e,t){let o;o=e?e=>null===e._hold?f.HOLD_NULL:void 0===e._floor[t]?f.REF_NULL:typeof e._hold!=typeof e._floor[t]?f.TYPE_MISMATCH:("string"==typeof e._hold?e._hold=e._hold.charCodeAt(0)-e._floor[t].charCodeAt(0):e._hold-=e._floor[t],this._floorIndex=t,this._panelValue=e._floor[t],this._resultValue=e._hold,f.OK):e=>{if(null===e._hold)return f.HOLD_NULL;const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:typeof e._hold!=typeof e._floor[o]?f.TYPE_MISMATCH:("string"==typeof e._hold?e._hold=e._hold.charCodeAt(0)-e._floor[o].charCodeAt(0):e._hold-=e._floor[o],this._floorIndex=o,this._panelValue=e._floor[o],this._resultValue=e._hold,f.OK)},super(o,"sub"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}get operator(){return"-"}}class E extends m{constructor(e,t){let o;o=e?e=>void 0===e._floor[t]?f.REF_NULL:"number"!=typeof e._floor[t]?f.TYPE_MISMATCH:(this._floorIndex=t,this._panelValue=e._floor[t],e._hold=++e._floor[t],this._resultValue=e._hold,f.OK):e=>{const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:"number"!=typeof e._floor[o]?f.TYPE_MISMATCH:(this._floorIndex=o,this._panelValue=e._floor[o],e._hold=++e._floor[o],this._resultValue=e._hold,f.OK)},super(o,"bumpp"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}}class C extends m{constructor(e,t){let o;o=e?e=>void 0===e._floor[t]?f.REF_NULL:"number"!=typeof e._floor[t]?f.TYPE_MISMATCH:(this._floorIndex=t,this._panelValue=e._floor[t],e._hold=--e._floor[t],this._resultValue=e._hold,f.OK):e=>{const o=e._floor[t];return void 0===o||"number"!=typeof o?f.INVALID_POINTER:"number"!=typeof e._floor[o]?f.TYPE_MISMATCH:(this._floorIndex=o,this._panelValue=e._floor[o],e._hold=--e._floor[o],this._resultValue=e._hold,f.OK)},super(o,"bumpm"),this._param=e?`${t}`:`[${t}]`}get floorIndex(){return this._floorIndex}get panelValue(){return this._panelValue}get resultValue(){return this._resultValue}}class A extends m{constructor(e,t,o){super((e=>{let n=0;return void 0===e._instructions.find(((e,o)=>(n=o,e.label===t)))?(console.error("no such label.",t),f.NO_SUCH_LABEL):(o(e,n),f.OK)}),e),this._toLabel=t}get toLabel(){return this._toLabel}}class I extends A{constructor(e){super("jump",e,((e,t)=>{e._cursor=t}))}}class O extends A{constructor(e){super("jumpz",e,((e,t)=>null===e._hold?f.HOLD_NULL:"number"!=typeof e._hold?f.TYPE_MISMATCH:void(0===e._hold&&(e._cursor=t))))}}class T extends A{constructor(e){super("jumpn",e,((e,t)=>null===e._hold?f.HOLD_NULL:"number"!=typeof e._hold?f.TYPE_MISMATCH:void(e._hold<0&&(e._cursor=t))))}}class P extends m{constructor(e){super((e=>f.OK),"label"),this._label=e}get label(){return this._label}}class L{constructor(e={}){this._instructions=null,this._initialInbox=null,this._initialFloor=null,this._lines=0,this._steps=0,this._inbox=null,this._outbox=null,this._floor=null,this._cursor=0,this._hold=null,this._steps=0,this._verbose=void 0!==e.verbose&&e.verbose}setInstructions(e){this._instructions=e,this._lines=e.reduce(((e,t)=>void 0===t.label?e+1:e),0)}setField(e,t,o){this._initialInbox=e,this._initialFloor=t,this._expected=o}run(){this._reset();const e=[];let t=0,o=f.OK;for(;;){const n=this._instructions[this._cursor];o=n.apply(this);const s={index:n.index,name:n.name};if(void 0!==n.label&&(s.label=n.label),void 0!==n.toLabel&&(s.toLabel=n.toLabel),void 0!==n.param&&(s.param=n.param),void 0!==n.floorIndex&&(s.floorIndex=n.floorIndex),void 0!==n.panelValue&&(s.panelValue=n.panelValue),void 0!==n.resultValue&&(s.resultValue=n.resultValue),void 0!==n.operator&&(s.operator=n.operator),e.push(s),this._verbose&&console.log(this._inbox,this._outbox,this._floor,this._hold,this._cursor,this._steps),o!==f.OK){o!==f.EMPTY_INBOX&&(t=-1001);break}if(++this._cursor,void 0===n.label&&++this._steps,"outbox"===n.operationName){const e=this._outbox.length-1;if(this._expected[e]!==this._outbox[e]){t=-1002;break}}if(this._cursor>=this._instructions.length)break;if(this._steps>=1e4){t=-1003;break}}return 0!==t||o!==f.OK&&o!==f.EMPTY_INBOX||this._expected.length===this._outbox.length&&this._expected.reduce(((e,t,o)=>e&&t===this._outbox[o]),!0)||(t=-1002),{hrmResult:t,lastInstructionResult:o,history:e,lines:this._lines,steps:this._steps}}_reset(){this._inbox=this._initialInbox.slice(),this._floor=Object.assign({},this._initialFloor),this._outbox=[],this._cursor=0,this._hold=null,this._steps=0}}class S{parse(e,t={}){const o=[],n=/^(\w+)(\:?)$/i,s=/^(\w+)\s+(\[?)(\w+?)(\]?)$/i;for(const i of e.split("\n")){const e=i.trim();if(""===e)continue;const r=e.match(n)||e.match(s);if(!r)return console.error("syntax error.",e),null;let l=null;if(r[1],":"===r[2])l=this._parseLabel(r);else{const e=r[1];"inbox"===e?l=this._parseInbox():"outbox"===e?l=this._parseOutbox():"copyfrom"===e?l=this._parseCopyfrom(r,t):"copyto"===e?l=this._parseCopyto(r,t):"add"===e?l=this._parseAdd(r,t):"sub"===e?l=this._parseSub(r,t):"bumpp"===e?l=this._parseBumpup(r,t):"bumpm"===e?l=this._parseBumpdown(r,t):"jump"===e?l=this._parseJump(r):"jumpz"===e?l=this._parseJumpIfZero(r):"jumpn"===e&&(l=this._parseJumpIfNeg(r))}if(null===l)return console.error("unknown instruction.",e),null;l.index=o.length,o.push(l)}return o}_parseInbox(){return new x}_parseOutbox(){return new y}_parseCopyfrom(e,t){const o=this._parseParam(e,t);return null===o?null:new b(o.isDirect,o.value)}_parseCopyto(e,t){const o=this._parseParam(e,t);return null===o?null:new g(o.isDirect,o.value)}_parseAdd(e,t){const o=this._parseParam(e,t);return null===o?null:new v(o.isDirect,o.value)}_parseSub(e,t){const o=this._parseParam(e,t);return null===o?null:new w(o.isDirect,o.value)}_parseBumpup(e,t){const o=this._parseParam(e,t);return null===o?null:new E(o.isDirect,o.value)}_parseBumpdown(e,t){const o=this._parseParam(e,t);return null===o?null:new C(o.isDirect,o.value)}_parseJump(e){return e.length<4?null:new I(e[3])}_parseJumpIfZero(e){return e.length<4?null:new O(e[3])}_parseJumpIfNeg(e){return e.length<4?null:new T(e[3])}_parseLabel(e){return new P(e[1])}_parseParam(e,t){if(e.length<5)return null;const o=e[3];let n=parseInt(o,10);if(isNaN(n)&&(n=t[o],void 0===n))return console.error("no such alias.",o),null;const s={value:n,isDirect:!1};if(""===e[2]&&""===e[4])s.isDirect=!0;else{if("["!==e[2]||"]"!==e[4])return null;s.isDirect=!1}return s}}class N{constructor(e=document.createElement("canvas")){this._context=e.getContext("2d")}get domElement(){return this._context.canvas}setSize(e,t){this._context.canvas.width=e,this._context.canvas.height=t}render(e){const t=this._context;t.clearRect(0,0,t.canvas.width,t.canvas.height);for(let o=0;o<4;o++)e.render(t,o)}}class V{constructor(){this.children=[],this.depth=0,this.position={x:0,y:0},this.scale={x:1,y:1},this.speedCoef=1,this.visible=!0}render(e,t){const o=e;o.save(),o.translate(this.position.x,this.position.y),o.scale(this.scale.x,this.scale.y),this.visible&&this.depth===t&&this.renderSelf(o);for(const e of this.children)e.render(o,t);o.restore()}clear(){this.children=[]}add(e){this.children.push(e)}remove(e){this.children=this.children.filter((t=>e!==t))}renderSelf(e){throw new Error("not implemented.")}}class z extends V{renderSelf(e){}}class k extends V{constructor(e,t=.06*Math.random()-.03){super(),this._size=e,this._rotation=t,this._value=null,this._expression=null,this._isInteger=!1}get value(){return this._value}set value(e){this._value=e,"number"==typeof e?(this._isInteger=!0,this._expression=e.toString(10)):(this._isInteger=!1,this._expression=e)}renderSelf(e){const t=e,o=this._size,n=`bold ${.6*o|0}px Oswald`;if(t.save(),t.rotate(this._rotation),t.save(),t.translate(-o/2,-o/2),t.fillStyle=this._isInteger?"#506037":"#44445f",t.fillRect(0,.15*o,o,o),t.fillStyle=this._isInteger?"#a0ca5f":"#9695c5",t.fillRect(0,0,o,o),t.restore(),this._expression){const e=0,o=1;t.fillStyle="#506137",t.font=n,t.textAlign="center",t.textBaseline="middle",t.fillText(this._expression,e,o)}t.restore()}}class j extends V{constructor(e){super(),this._fontSize=e,this._shadowOffset={x:.02*e,y:.1*e},this._operator=""}get operator(){return this._operator}set operator(e){this._operator=e}renderSelf(e){e.font=`bold ${this._fontSize}px Oswald`,e.textAlign="center",e.textBaseline="middle",e.fillStyle="#506037",e.fillText(this._operator,this._shadowOffset.x,this._shadowOffset.y),e.fillStyle="#a0ca5f",e.fillText(this._operator,0,0)}}class M extends V{constructor(e,t,o){super(),this._heldPanel=new k(t),this._heldPanel.visible=!1,this.add(this._heldPanel),this._heldPanelForAnimation=new k(t),this._heldPanelForAnimation.visible=!1,this.add(this._heldPanelForAnimation),this._operatorPopup=new j(1*t|0),this._operatorPopup.visible=!1,this.add(this._operatorPopup),this._topOffset={x:0,y:-1*t},this._bottomOffset={x:0,y:.55*e},this._leftOffset={x:-1*e,y:0},this._rightOffset={x:1*e,y:0},this._topLeftOffset={x:-1*t,y:-.8*t},this._topRightOffset={x:1*t,y:-.8*t},this._heldPanel.position.x=this._topOffset.x,this._heldPanel.position.y=this._topOffset.y,this._operatorPopup.depth=1,this._operatorPopup.position.x=0,this._operatorPopup.position.y=this._topLeftOffset.y,this._speed=o/2400,this._flipHorizontal=!1,this._texture=new Image,this._texture.src="data:image/png;base64,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"}renderSelf(e){const t=e,o=this._texture;t.save(),this._flipHorizontal&&t.scale(-1,1),t.drawImage(o,0,0,o.width,o.height,-o.width/2,-o.height/2,o.width,o.height),t.restore()}refresh(){this._heldPanelForAnimation.visible=!1}async step(e,t=200){this._heldPanelForAnimation.visible=!1;const o=this.position,n=e.x-o.x,s=e.y-o.y,i=Math.sqrt(n*n+s*s)/(this.speedCoef*this._speed);return new Promise((s=>{new TWEEN.Tween(o).to(e,i).delay(t/this.speedCoef).onStart((()=>{n>0?this._flipHorizontal=!0:n<0&&(this._flipHorizontal=!1)})).onComplete(s).start()}))}async pickFromBottom(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._bottomOffset.x,o.position.y=this._bottomOffset.y,o.value=e,o.visible=!0,new Promise((n=>{new TWEEN.Tween(o.position).to(this._topOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete((()=>{this._heldPanel.value=e,this._heldPanel.visible=!0,n()})).start()}))}async pickFromLeft(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._leftOffset.x,o.position.y=this._leftOffset.y,o.value=e,o.visible=!0,new Promise((n=>{new TWEEN.Tween(o.position).to(this._topOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete((()=>{this._heldPanel.value=e,this._heldPanel.visible=!0,n()})).start()}))}async dropToBottom(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._topOffset.x,o.position.y=this._topOffset.y,o.value=this._heldPanel.value,o.visible=!0,e||(this._heldPanel.visible=!1),new Promise((e=>{new TWEEN.Tween(o.position).to(this._bottomOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(e).start()}))}async dropToRight(e,t=0){const o=this._heldPanelForAnimation;return o.position.x=this._topOffset.x,o.position.y=this._topOffset.y,o.value=this._heldPanel.value,o.visible=!0,e||(this._heldPanel.visible=!1),new Promise((e=>{new TWEEN.Tween(o.position).to(this._rightOffset,200/this.speedCoef).delay(t/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete(e).start()}))}async stomp(){return Promise.resolve()}async doArithmetic(e,t,o,n=0){const s=this._heldPanel,i=this._heldPanelForAnimation;return i.position.x=this._bottomOffset.x,i.position.y=this._bottomOffset.y,i.value=t,i.visible=!0,new Promise((t=>{const r=new TWEEN.Tween(s.position).to(this._topLeftOffset,200/this.speedCoef).delay(n/this.speedCoef).easing(TWEEN.Easing.Cubic.Out),l=new TWEEN.Tween(i.position).to(this._topRightOffset,200/this.speedCoef).delay(n/this.speedCoef).easing(TWEEN.Easing.Cubic.Out).onComplete((()=>{this._operatorPopup.operator=e,this._operatorPopup.visible=!0})),a=new TWEEN.Tween(s.position).to(this._topOffset,100/this.speedCoef).delay(200/this.speedCoef),h=new TWEEN.Tween(i.position).to(this._topOffset,100/this.speedCoef).delay(200/this.speedCoef).onComplete((()=>{s.value=o,i.value=o,this._operatorPopup.visible=!1})),p={x:i.scale.x,y:i.scale.y},u={x:1.3*i.scale.x,y:1.3*i.scale.y},d=new TWEEN.Tween(i.scale).to(u,50/this.speedCoef).easing(TWEEN.Easing.Cubic.Out),c=new TWEEN.Tween(i.scale).to(p,50/this.speedCoef).easing(TWEEN.Easing.Cubic.In).onComplete(t);r.chain(a),l.chain(h),h.chain(d),d.chain(c),r.start(),l.start()}))}}class F extends V{constructor(e){super(),this._width=e.x,this._height=e.y}renderSelf(e){const t=e,o=this._width,n=this._height;t.save(),t.translate(-o/2,-n/2),t.strokeStyle="#322a25",t.lineWidth=4,t.strokeRect(2,2,o-4,n-4),t.restore()}}class H extends V{constructor(e,t,o,n,s,i){super(),this._width=e.x,this._height=e.y,this._floorSize=t,this._cellSize=o,this._panelSize=n,this._frame=new F(e),this.add(this._frame),this._inboxPanels=[],this._outboxPanels=[],this._floorPanels=[];for(const[t,i]of s.entries()){const s=new k(n);s.value=i,s.position.x=-e.x/2+(o+4)/2,s.position.y=1.5*t*n,this._inboxPanels.push(s),this.add(s)}for(let e=0;e<t.y;e++)for(let o=0;o<t.x;o++){const s=new k(n),r=e*t.x+o;s.position=this._floorIndexToLocalCoordinates(r);const l=i[r];void 0!==l?(s.value=l,s.visible=!0):(s.value=null,s.visible=!1),this._floorPanels[r]=s,this.add(s)}}renderSelf(e){const t=e,o=this._width,n=this._height,s=this._floorSize.x,i=this._floorSize.y,r=this._cellSize,l=.05*r;{t.save(),t.translate(-o/2,-n/2),t.fillStyle="#ca9877",t.fillRect(0,0,o,n),t.strokeStyle="#322a25",t.lineWidth=4;const e=2,s=n/2-r/2-e,i=n-s;t.fillStyle="#4c3b2c",t.fillRect(e,s,r,i),t.strokeRect(e,s,r,i),t.fillRect(o-r-e,s,r,i),t.strokeRect(o-r-e,s,r,i),t.restore()}{const e=s*r+2*l,o=i*r+2*l;t.save(),t.translate(-e/2,-o/2+.1*r),t.fillStyle="#999454",t.fillRect(0,0,e,o),t.translate(l,l),t.fillStyle="#8d804c";for(let e=0;e<i;e++)for(let o=e%2;o<s;o+=2)t.fillRect(o*r+l,e*r+l,r-2*l,r-2*l);const n=(.15*r|0)+"px Oswald";t.font=n,t.textAlign="right",t.textBaseline="bottom",t.fillStyle="#506137";for(let e=0;e<i;e++)for(let o=0;o<s;o++)t.fillText(e*s+o,(o+1)*r-2*l,(e+1)*r-2*l);t.restore()}}set(e,t){const o=this._floorPanels[e];o.value=t,o.visible=!0}async setWithAnimation(e,t){const o=this._floorPanels[e],n={x:o.scale.x,y:o.scale.y},s={x:1.5*o.scale.x,y:1.5*o.scale.y};return new Promise((e=>{const i=new TWEEN.Tween(o.scale).to(s,50/this.speedCoef).onComplete((()=>{o.value=t})),r=new TWEEN.Tween(o.scale).to(n,50/this.speedCoef).onComplete(e);i.chain(r).start()}))}pickFromInbox(){this._inboxPanels.shift().visible=!1}forwardInbox(){const e=[];for(const t of this._inboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y-1.5*this._panelSize},1e3/this.speedCoef).easing(TWEEN.Easing.Cubic.InOut);e.push(o)}for(const t of e)t.start()}dropToOutbox(e){const t=new k(this._panelSize);t.value=e,t.position.x=this._width/2-(this._cellSize+4)/2,t.position.y=0,this._outboxPanels.push(t),this.add(t)}forwardOutbox(){const e=[];for(const t of this._outboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y+1.5*this._panelSize},1e3/this.speedCoef).easing(TWEEN.Easing.Cubic.InOut);e.push(o)}for(const t of e)t.start()}forwardOutboxLong(){const e=[];for(const t of this._outboxPanels){const o=new TWEEN.Tween(t.position).to({x:t.position.x,y:t.position.y+15*this._panelSize},2e3).easing(TWEEN.Easing.Quadratic.In);e.push(o)}for(const t of e)t.start()}_floorIndexToLocalCoordinates(e){const t=this._cellSize,o=this._floorSize;return{x:(e%o.x-(o.x-1)/2)*t,y:((e/o.x|0)-(o.y-1)/2)*t}}}class R{constructor(e,t,o,n,s){this._width=e,this._height=t,this._cellSize=o,this._panelSize=n,this._onCursorChange=s,this._scene=new z,this._speedCoefSeed=1,this._abort=!1}get scene(){return this._scene}get speedCoef(){return this._speedCoefSeed}set speedCoef(e){this._speedCoefSeed=e;const t=Math.pow(2,e-1);this._applySpeedCoef(t)}prepare(e,t,o){this._floorSize=o,this._scene.clear();const n=this._width,s=this._height,i=this._cellSize,r=this._panelSize,l=this._floorSize;this._employee=new M(i,r,s),this._employee.position.x=.3*s,this._employee.position.y=.3*s,this._scene.add(this._employee),this._field=new H({x:n,y:s},l,i,r,e,t),this._field.position.x=n/2,this._field.position.y=s/2,this._scene.add(this._field),this._field._frame.depth=3,this._employee._heldPanel.depth=2,this._employee._heldPanelForAnimation.depth=2,this._employee.depth=1,this._field.depth=0}start(e){const t=()=>{if(this._abort)return;if(e.length<=0)return this._employee.refresh(),void this._field.forwardOutboxLong();const o=e.shift();this._onCursorChange&&this._onCursorChange(o.index);let n,s=o.floorIndex;if("inbox"===o.name){if(void 0===o.panelValue)return this._employee.refresh(),void this._field.forwardOutboxLong();s=-1}else"outbox"===o.name&&(s=-2);if(void 0===s)return void t();switch(o.name){case"inbox":n=()=>(this._field.pickFromInbox(),this._field.forwardInbox(),this._employee.pickFromLeft(o.panelValue));break;case"outbox":this._field.forwardOutbox(),n=()=>this._employee.dropToRight(!1).then((()=>{this._field.dropToOutbox(o.panelValue)}));break;case"copyfrom":n=()=>this._employee.pickFromBottom(o.panelValue);break;case"copyto":n=()=>this._employee.dropToBottom(!0).then((()=>{this._field.set(s,o.panelValue)}));break;case"add":case"sub":n=()=>this._employee.doArithmetic(o.operator,o.panelValue,o.resultValue);break;case"bumpp":case"bumpm":n=()=>this._field.setWithAnimation(s,o.resultValue).then((()=>this._employee.pickFromBottom(o.resultValue,200)));break;default:n=()=>{}}const i=this._floorIndexToScreenCoordinatesOfEmployee(s);this._employee.step(i).then(n).then(t)};t()}stop(){this._abort=!0}_floorIndexToScreenCoordinatesOfEmployee(e){const t=this._width,o=this._height,n=this._cellSize,s=this._floorSize;let i,r;return-1===e?(i=n+(n+4)/2,r=o/2):-2===e?(i=t-n-(n+4)/2,r=o/2):(i=t/2+(e%s.x-(s.x-1)/2)*n,r=o/2+((e/s.x|0)-(s.y-1)/2)*n-.55*n),{x:i,y:r}}_applySpeedCoef(e){this._employee&&(this._employee.speedCoef=e),this._field&&(this._field.speedCoef=e)}}class W extends V{constructor(e,t,o){super(),this._expression=e,this._width=t,this._height=o,this._bodyHeight=.8*o,this._font=`bold ${this._bodyHeight}px Oswald`}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=e}renderSelf(e){this._highlighted&&(e.fillStyle="#00aa00",e.fillRect(0,0,this._width,this._height)),e.font=this._font,e.fillStyle="#ffffff",e.fillText(this._expression,0,this._bodyHeight)}}class D{constructor(e,t){this._width=e,this._height=t,this._scene=new z,this._codeContainer=new z,this._scene.add(this._codeContainer)}get scene(){return this._scene}prepare(e){this._codeContainer.clear();const t=this._width,o=this._height,n=Math.min(o/e.length,26);for(const[o,s]of e.entries()){const e=this._createExpression(s),i=new W(e,t,n);i.position.y=o*n,this._codeContainer.add(i)}}setCursor(e){const t=this._codeContainer.children;for(let o=0;o<t.length;o++)t[o].highlighted=o===e}_createExpression(e){return"label"===e.name?`${e.label}:`.toUpperCase():void 0!==e.param?`    ${e.name} ${e.param}`.toUpperCase():void 0!==e.toLabel?`    ${e.name} ${e.toLabel}`.toUpperCase():`    ${e.name}`.toUpperCase()}}class q{constructor(e,t,o,n){this._width=e,this._height=t,this._cellSize=.1*this._height,this._panelSize=.4*this._cellSize,this._renderer=new N(o),this._codeRenderer=new N(n),this._scene=null,this._codeScene=new D(.3*this._height,this._height),this._renderer.setSize(this._width,this._height),this._codeRenderer.setSize(.3*this._height,this._height),this._speedCoefSeed=1,requestAnimationFrame(this._animate.bind(this))}get speedCoef(){return this._speedCoefSeed}set speedCoef(e){this._speedCoefSeed=e,this._scene&&(this._scene.speedCoef=e)}newGame(e,t,o){const n=(new S).parse(t,o);if(null===n)return void console.error("syntax error.");const s=e.generate(),i=new L;i.setInstructions(n),i.setField(s.inputs,e.initialFloor,s.expected);const r=i.run();this._scene&&this._scene.stop(),this._scene=new R(this._width,this._height,this._cellSize,this._panelSize,this._onCursorChange.bind(this)),this._scene.prepare(s.inputs,e.initialFloor,e.floorSize),this._codeScene.prepare(n),this.speedCoef=this.speedCoef,this._scene.start(r.history)}_animate(e){requestAnimationFrame(this._animate.bind(this)),this._update(e),this._render()}_update(e){TWEEN.update()}_render(){this._scene&&this._renderer.render(this._scene.scene),this._codeRenderer.render(this._codeScene.scene)}_onCursorChange(e){this._codeScene.setCursor(e)}}class U{constructor(e,t,o="",n="",s={x:0,y:0}){this._datasetGenerator=e,this._initialFloor=t,this._summary=o,this._description=n,this._floorSize=s}get summary(){return this._summary}get description(){return this._description}get floorSize(){return this._floorSize}get initialFloor(){return this._initialFloor}generate(e=0){return this._datasetGenerator(e)}}class J extends U{constructor(){super((e=>{const t=[],o=[];for(let e=0;e<20;e++)t[e]=100*Math.random()|0,e%2==1&&(o[e/2|0]=t[e]+t[e-1]);return{inputs:t,expected:o}}),{},"Pairwise Add","",{x:3,y:1})}}class B extends U{constructor(){super(((e,t=10)=>{const o=[];for(let e=0;e<t;e++)o.push(String.fromCharCode("A".charCodeAt(0)+(5*Math.random()|0)));const n=o.filter(((e,t,o)=>o.indexOf(e)===t));return{inputs:o,expected:n}}),{15:0},"Duplicate Removal","",{x:4,y:4})}}class Z extends U{constructor(){super(((e,t=4)=>{const o=[];for(let e=0;e<t;e++)for(let e=0;e<3;e++)o.push((19*Math.random()|0)-9);const n=[];for(let e=0;e<o.length;e+=3){const t=o.slice(e,e+3).sort(((e,t)=>e-t));n.push(t[0],t[1],t[2])}return{inputs:o,expected:n}}),{},"Three Sort","",{x:5,y:2})}}class K extends U{constructor(){super((e=>({inputs:[85,28,67,0,"T","H","I","N","K",0,73,92,21,60,23,58,35,18,60,46,0,10,0],expected:[28,67,85,"H","I","K","N","T",18,21,23,35,46,58,60,60,73,92,10]})),{24:0},"Sorting Floor","",{x:5,y:5})}}class Q extends U{constructor(){super(((e,t=4)=>{const o=[],n=[];for(let e=0;e<t;e++){const e=1+(3*Math.random()|0),t=Math.random()*Math.pow(10,e)|0;o.push(t),t<10?n.push(t):e<100?(n.push(t/10|0),n.push(t%10)):(n.push(t/100|0),n.push(t%100/10|0),n.push(t%10))}return{inputs:o,expected:n}}),{9:0,10:10,11:100},"Digit Exploder","",{x:3,y:4})}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#slider-speed-value"),t=document.querySelector("#select-scenario"),o=["1/2x","1x","2x","4x","8x","16x","32x"],n=[{problem:new J,solution:"\n        next:\n            inbox\n            copyto 0\n            inbox\n            add    0\n            outbox\n            jump   next\n    ",aliases:{}},{problem:new Z,solution:"\n        next:\n            inbox\n            copyto   0\n            inbox\n            copyto   1\n            inbox\n            copyto   2\n\n        common:\n            copyfrom 0\n            copyto   tmp\n            sub      1\n            jumpn    skip_swap\n\n            copyfrom 1\n            copyto   0\n            copyfrom tmp\n            copyto   1\n\n        skip_swap:\n            copyfrom 2\n            copyto   tmp\n            sub      1\n            jumpn    continue\n\n        _out:\n            copyfrom 0\n            outbox\n            copyfrom 1\n            outbox\n            copyfrom 2\n            outbox\n            jump     next\n\n        continue:\n            copyfrom 1\n            copyto   2\n            copyfrom tmp\n            copyto   1\n\n            jump     common\n    ",aliases:{tmp:9}},{problem:new B,solution:"\n        next:\n            inbox \n            copyto   [count]\n            copyfrom  count\n            copyto    index\n        check_dup:\n            bumpm     index\n            jumpn     no_dup\n            copyfrom [index]\n            sub      [count]\n            jumpz     next\n            jump      check_dup\n        no_dup:\n            copyfrom [count]\n            outbox\n            bumpp     count\n            jump      next\n    ",aliases:{index:14,count:15}},{problem:new K,solution:"\n        init:\n            copyfrom  zero\n            copyto    len\n        _first:\n            inbox\n            copyto   [len]\n        next:\n            inbox\n            jumpz     out\n            copyto    tmp\n            bumpp     len\n            copyto    i\n            copyto    j\n            copyto    k\n        compare:\n            bumpm     i\n            jumpn     forward\n            copyfrom [i]\n            sub       tmp\n            jumpn     compare\n        forward:\n            bumpm     j\n            sub       i\n            jumpz     insert\n            copyfrom [j]\n            copyto   [k]\n            bumpm     k\n            jump      forward\n        insert:\n            copyfrom  tmp\n            copyto   [k]\n            jump      next\n        out:\n            copyfrom [len] \n            outbox\n            bumpm     len\n            jumpn     init\n            jump      out\n    ",aliases:{len:20,i:21,j:22,k:23,tmp:19,zero:24}},{problem:new Q,solution:"\n        init:\n            inbox\n            copyto    cur\n            copyfrom  zero\n            copyto    d2\n        digit2:\n            copyfrom  cur\n            sub       hundred\n            jumpn     digit2_done\n            copyto    cur\n            bumpp     d2\n            jump      digit2\n        digit2_done:\n            copyfrom  d2\n            copyto    d1\n            jumpz     digit1\n            outbox\n        digit1:\n            copyfrom  cur\n            sub       ten\n            jumpn     digit1_done\n            copyto    cur\n            bumpp     d1\n            jump      digit1\n        digit1_done:\n            copyfrom  d1\n            jumpz     digit0\n            sub       d2\n            outbox\n        digit0:\n            copyfrom  cur\n            outbox\n            jump      init\n    ",aliases:{cur:0,d2:3,d1:4,zero:9,ten:10,hundred:11}}];for(const[e,o]of n.entries()){const n=document.createElement("option");n.value=e,n.textContent=o.problem.summary,t.appendChild(n)}document.querySelector("#slider-speed").addEventListener("input",(t=>{const n=t.target.value;i.speedCoef=n,e.textContent=`${o[n]}`})),t.addEventListener("change",(e=>{const t=parseInt(e.target.value,10);s(t)}));const s=e=>{const t=n[e];i.newGame(t.problem,t.solution,t.aliases)},i=new q(640,640,document.querySelector("#canvas-main"),document.querySelector("#canvas-code"));t.children[2].selected="selected",s(2)}))})()})();